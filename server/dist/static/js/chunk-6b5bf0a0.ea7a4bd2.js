(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6b5bf0a0"],{"21f2":function(e,t,i){},"24b9":function(e,t,i){"use strict";i("21f2")},2934:function(e,t,i){"use strict";i.d(t,"c",(function(){return a})),i.d(t,"b",(function(){return s})),i.d(t,"a",(function(){return o})),i.d(t,"d",(function(){return l}));var n=i("b775");function a(e,t){return Object(n["c"])(e,t)}function s(e,t){return Object(n["c"])(e,{ids:t})}function o(e,t,i){return Object(n["c"])(e,{ids:t,state:i})}function l(e,t){return Object(n["c"])(e,t)}},"2a75":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("file-upload-local",{attrs:{accept:e.accept,tips:e.tips,"list-type":e.listType,"paper-type":e.paperType,"user-data":e.userData},model:{value:e.fileUrl,callback:function(t){e.fileUrl=t},expression:"fileUrl"}})],1)},a=[],s=(i("c5f6"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"content"},[i("el-upload",{attrs:{action:1==e.paperType?e.server2:e.server,accept:e.accept,"before-remove":e.beforeRemove,"on-remove":e.handleRemove,"on-success":e.handleSuccess,data:e.userData,drag:"picture"!==e.listType,headers:e.header,"file-list":e.fileList,"list-type":e.listType},model:{value:e.fileUrl,callback:function(t){e.fileUrl=t},expression:"fileUrl"}},["picture"===e.listType?i("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]):e._e(),"picture"!==e.listType?i("i",{staticClass:"el-icon-upload"}):e._e(),"picture"!==e.listType?i("div",{staticClass:"el-upload__text"},[i("em",[e._v("点击上传")])]):e._e(),e.tips?i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(e._s(e.tips))]):e._e()],1)],1)}),o=[],l=(i("7f7f"),i("5f87")),r={name:"FileUploadLocal",props:{paperType:Number,value:String,accept:String,tips:String,listType:String,limit:{type:Number,default:1},userData:Object},data:function(){return{server:"".concat("http://localhost:8899","/api/file/upload"),server2:"".concat("http://localhost:8899","/api/exam/api/paper/paper/uploadOper"),fileList:[],fileUrl:"",header:{}}},watch:{value:{handler:function(){this.fillValue()}}},created:function(){this.fillValue(),this.header={token:Object(l["a"])()}},methods:{fillValue:function(){this.fileList=[],this.fileUrl=this.value,this.fileUrl&&(this.fileList=[{name:this.fileUrl,url:this.fileUrl}])},handleExceed:function(){this.$message.warning("每次只能上传 ".concat(this.limit," 个文件"))},beforeRemove:function(){return this.$confirm("确定移除文件吗？")},handleRemove:function(){this.$emit("input",""),this.fileList=[]},handleSuccess:function(e){if(1===e.code)return this.$message({type:"error",message:e.msg}),void(this.fileList=[]);console.log(e.data),this.$parent.func2(),e.data&&e.data.name?this.$emit("input",e.data.name):this.$emit("input",e.data[0].url)}}},c=r,u=i("2877"),d=Object(u["a"])(c,s,o,!1,null,null,null),p=d.exports,f={name:"FileUpload",components:{FileUploadLocal:p},props:{paperType:Number,value:String,accept:{type:String,default:"*"},tips:String,listType:{type:String,default:"picture"},userData:Object},data:function(){return{fileUrl:""}},watch:{value:{handler:function(){this.fillValue()}},fileUrl:{handler:function(){this.$emit("input",this.fileUrl)}}},mounted:function(){},created:function(){this.fillValue()},methods:{func2:function(){this.$emit("changeOper")},fillValue:function(){this.fileUrl=this.value}}},h=f,v=Object(u["a"])(h,n,a,!1,null,null,null);t["a"]=v.exports},"7c97":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"camera_outer"},[i("video",{attrs:{id:"videoCamera",width:"100px",height:"100px",autoplay:""}}),i("canvas",{staticStyle:{display:"none"},attrs:{id:"canvasCamera",width:"400px",height:"400px"}}),e.imgSrc?i("div",{staticClass:"img_bg_camera"},[i("img",{staticClass:"tx_img",attrs:{src:e.imgSrc,alt:""}})]):e._e(),i("button",{staticStyle:{display:"none"},on:{click:function(t){return e.shangchuang()}}},[e._v("获取upToken")]),i("button",{ref:"inputResult",staticStyle:{display:"none"},on:{click:function(t){return e.getCompetence()}}},[e._v("打开摄像头")]),i("button",{staticStyle:{display:"none"},on:{click:function(t){return e.stopNavigator()}}},[e._v("关闭摄像头")]),i("button",{ref:"setResult",staticStyle:{display:"none"},on:{click:function(t){return e.setImage()}}},[e._v("拍照")])])},a=[],s=(i("34ef"),i("4917"),i("28a5"),i("f744")),o=i("2934"),l=i("5f87"),r={data:function(){return{videoWidth:400,videoHeight:400,imgSrc:"",thisCancas:null,thisContext:null,thisVideo:null,upToken:null}},created:function(){var e=this;this.shangchuang(),this.$nextTick((function(){e.$refs.inputResult.click()})),this.times=setInterval((function(){e.$nextTick((function(){e.$refs.setResult.click()}))}),3e4)},methods:{shangchuang:function(){var e=this;Object(o["d"])("/file/upToken").then((function(t){e.upToken=t.data,Object(l["e"])(e.upToken)})).catch((function(t){e.$message.error(t.message)})),console.log(this.upToken)},upLoadFun:function(e){var t=this,i={useCdnDomain:!0,region:s["c"].z0},n={fname:e,params:{id:1},mimeType:null},a=Object(l["b"])()+"/"+Date.now()+".png",o=this.upToken,r=s["b"](o),c={quality:.9,noCompressIfLarger:!0};s["a"](e,c).then((function(e){var l=s["d"](e.dist,a,o,r,n,i);t.subscription=l.subscribe(u)}));var u={next:function(e){console.log(e)},error:function(e){console.log(e)},complete:function(e){console.log(e)}}},getCompetence:function(){var e=this;this.thisCancas=document.getElementById("canvasCamera"),this.thisContext=this.thisCancas.getContext("2d"),console.log(this.thisContext),this.thisVideo=document.getElementById("videoCamera"),void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var t=navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.getUserMedia;return t?new Promise((function(i,n){t.call(navigator,e,i,n)})):Promise.reject(new Error("getUserMedia is not implemented in this browser"))});var t={audio:!1,video:{width:"400",height:"400",transform:"scaleX(-1)"}};navigator.mediaDevices.getUserMedia(t).then((function(t){"srcObject"in e.thisVideo?e.thisVideo.srcObject=t:e.thisVideo.src=window.URL.createObjectURL(t),e.thisVideo.onloadedmetadata=function(t){e.thisVideo.play()}})).catch((function(e){console.log(e)}))},getUrl:function(e){var t=this.base64ImgtoFile(e);console.log(t);var i=window.webkitURL.createObjectURL(t)||window.URL.createObjectURL(t);console.log(i)},base64ImgtoFile:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"file";console.log(e);var i=e.split(","),n=i[0].match(/:(.*?);/)[1],a=n.split("/")[1],s=atob(i[1]),o=s.length,l=new Uint8Array(o);while(o--)l[o]=s.charCodeAt(o);return new File([l],"".concat(t,".").concat(a),{type:n})},setImage:function(){var e=this;e.thisContext.drawImage(e.thisVideo,0,0,400,400);var t=this.thisCancas.toDataURL("image/png");console.log(t),this.base64ToFile(t)},dataURLtoFile:function(e,t){var i=e.split(","),n=i[0].match(/:(.*?);/)[1],a=atob(i[1]),s=a.length,o=new Uint8Array(s);while(s--)o[s]=a.charCodeAt(s);return new File([o],t,{type:n})},base64ToFile:function(e,t){var i=e.split(","),n=i[0].match(/:(.*?);/)[1],a=n.split("/")[1],s=window.atob(i[1]),o=s.length,l=new Uint8Array(o);while(o--)l[o]=s.charCodeAt(o);var r=new File([l],"".concat(t,".").concat(a),{type:n});console.log(r),this.upLoadFun(r)},handleFileUpload:function(e){var t=new FormData,i=this.$refs.file.files[0];t.append("file",i),console.log(t.get("file")),this.upLoadFun(t)},stopNavigator:function(){this.thisVideo.srcObject.getTracks()[0].stop()}}},c=r,u=i("2877"),d=Object(u["a"])(c,n,a,!1,null,null,null);t["a"]=d.exports},9224:function(e){e.exports=JSON.parse('{"name":"yf-exam-lite","version":"1.9.1","description":"在线考试系统","author":"18365918@qq.com","scripts":{"dev":"vue-cli-service serve","build:prod":"vue-cli-service build","build:demo":"vue-cli-service build --mode demo","lint":"eslint --ext .js,.vue src","svgo":"svgo -f src/icons/svg --config=src/icons/svgo.yml"},"dependencies":{"axios":"^0.21.1","babel-plugin-dynamic-import-node":"^2.3.3","clipboard":"^2.0.4","cos-js-sdk-v5":"^1.2.16","dropzone":"5.5.1","element-ui":"^2.15.7","fuse.js":"3.4.4","js-cookie":"2.2.0","jsonlint":"1.6.3","less":"^3.0.4","less-loader":"^5.0.0","moment":"^2.29.1","normalize.css":"7.0.0","nprogress":"0.2.0","path-to-regexp":"2.4.0","qiniu":"^7.8.0","qiniu-js":"^3.4.1","querystring":"^0.2.0","screenfull":"^4.2.0","showdown":"^1.9.1","sortablejs":"^1.8.4","tracking":"^1.1.3","video.js":"^8.0.4","videojs-contrib-hls":"^5.15.0","videojs-flash":"^2.2.1","vue":"2.6.10","vue-count-to":"1.0.13","vue-fullscreen":"^2.1.6","vue-router":"3.0.2","vue-splitpane":"1.0.4","vue-uuid":"^2.0.2","vue-video-player":"^5.0.2","vue-visibility-change":"^1.2.1","vuedraggable":"2.20.0","vuex":"3.1.0"},"devDependencies":{"@babel/core":"7.0.0","@babel/register":"7.0.0","@vue/cli-plugin-babel":"3.5.3","@vue/cli-plugin-eslint":"^3.9.1","@vue/cli-service":"^4.2.2","autoprefixer":"^9.5.1","babel-eslint":"10.0.1","babel-jest":"^25.1.0","chalk":"2.4.2","connect":"3.6.6","sass":"^1.49.9","sass-loader":"^10.2.0","script-ext-html-webpack-plugin":"^2.1.5","svg-sprite-loader":"4.1.3","svgo":"1.2.0","vue-template-compiler":"2.6.10","webpack":"^4.46.0"},"engines":{"node":">=8.9","npm":">= 3.0.0"},"browserslist":["> 1%","last 2 versions"]}')},9406:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:24}},[i("el-card",{staticClass:"box"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[e._v("项目信息")]),i("el-button",{staticStyle:{float:"right",padding:"3px 0","font-size":"12px"},attrs:{type:"text"}},[e._v("系统版本："+e._s(e.version))])],1),i("div",{staticStyle:{"line-height":"32px"}},[i("div",{staticClass:"title"},[e._v("技术栈")]),i("div",{staticClass:"tags"},[i("el-tag",[e._v("SpringBoot")]),i("el-tag",[e._v("Shiro")]),i("el-tag",[e._v("MyBatis Plus")]),i("el-tag",[e._v("Redis")]),i("el-tag",[e._v("JWT")]),i("el-tag",[e._v("Vue")]),i("el-tag",[e._v("Vue2")]),i("el-tag",[e._v("ElementUI")])],1)])])],1),i("el-col",{attrs:{span:8}})],1)],1)},a=[],s=i("db72"),o=i("7c97"),l=i("2f62"),r=i("9224"),c=i("2a75"),u={name:"Dashboard",components:{Shiping:o["a"],FileUpload:c["a"]},data:function(){return{currentRole:"adminDashboard",version:r.version}},computed:Object(s["a"])({},Object(l["b"])(["roles","siteData"])),created:function(){}},d=u,p=(i("24b9"),i("2877")),f=Object(p["a"])(d,n,a,!1,null,"fccc62ea",null);t["default"]=f.exports}}]);